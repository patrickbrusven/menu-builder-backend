(function(e){function t(t){for(var r,a,u=t[0],s=t[1],i=t[2],l=0,m=[];l<u.length;l++)a=u[l],Object.prototype.hasOwnProperty.call(o,a)&&o[a]&&m.push(o[a][0]),o[a]=0;for(r in s)Object.prototype.hasOwnProperty.call(s,r)&&(e[r]=s[r]);d&&d(t);while(m.length)m.shift()();return c.push.apply(c,i||[]),n()}function n(){for(var e,t=0;t<c.length;t++){for(var n=c[t],r=!0,u=1;u<n.length;u++){var s=n[u];0!==o[s]&&(r=!1)}r&&(c.splice(t--,1),e=a(a.s=n[0]))}return e}var r={},o={app:0},c=[];function a(t){if(r[t])return r[t].exports;var n=r[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,a),n.l=!0,n.exports}a.m=e,a.c=r,a.d=function(e,t,n){a.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},a.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},a.t=function(e,t){if(1&t&&(e=a(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(a.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)a.d(n,r,function(t){return e[t]}.bind(null,r));return n},a.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return a.d(t,"a",t),t},a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},a.p="/";var u=window["webpackJsonp"]=window["webpackJsonp"]||[],s=u.push.bind(u);u.push=t,u=u.slice();for(var i=0;i<u.length;i++)t(u[i]);var d=s;c.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("56d7")},"09d4":function(e,t,n){},"16ce":function(e,t,n){"use strict";n("09d4")},2139:function(e,t,n){"use strict";n("8507")},2469:function(e,t,n){},"2cca":function(e,t,n){"use strict";n("5cd1")},"4c5e":function(e,t,n){},"56d7":function(e,t,n){"use strict";n.r(t);n("e260"),n("e6cf"),n("cca6"),n("a79d");var r=n("7a23"),o=n("f937"),c=n.n(o),a=n("cf05"),u=n.n(a),s={class:"mainApp"},i=Object(r["g"])("img",{class:"backgroundImage",src:c.a,alt:"restaurant table with menu coffee and dish"},null,-1),d=Object(r["g"])("img",{class:"landingPageLogo",src:u.a,alt:"main logo"},null,-1);function l(e,t,n,o,c,a){var u=Object(r["C"])("Navigation"),l=Object(r["C"])("router-view");return Object(r["v"])(),Object(r["d"])("div",s,[Object(r["g"])(u),i,d,Object(r["g"])(l)])}var m=Object(r["M"])("data-v-3ababcbc");Object(r["y"])("data-v-3ababcbc");var b={id:"nav"},p={class:"mainLinks"},f=Object(r["f"])("Home"),g=Object(r["f"])("Dashboard"),O={class:"userLogin"},j=Object(r["f"])("Register"),h=Object(r["f"])("Login"),v={key:2,class:"userStatus"};Object(r["w"])();var I=m((function(e,t,n,o,c,a){var u=Object(r["C"])("router-link");return Object(r["v"])(),Object(r["d"])("div",b,[Object(r["g"])("div",p,[Object(r["g"])(u,{to:"/",class:"home"},{default:m((function(){return[f]})),_:1}),e.loggedIn?(Object(r["v"])(),Object(r["d"])(u,{key:0,to:"/dashboard"},{default:m((function(){return[g]})),_:1})):Object(r["e"])("",!0)]),Object(r["g"])("div",O,[e.loggedIn?Object(r["e"])("",!0):(Object(r["v"])(),Object(r["d"])(u,{key:0,to:"/register"},{default:m((function(){return[j]})),_:1})),e.loggedIn?(Object(r["v"])(),Object(r["d"])("div",v,[Object(r["g"])("h3",null,"Welcome back: "+Object(r["E"])(e.user.username),1),Object(r["g"])("button",{type:"button",class:"logoutButton",onClick:t[1]||(t[1]=function(){return a.logout&&a.logout.apply(a,arguments)})},"Logout")])):(Object(r["v"])(),Object(r["d"])(u,{key:1,to:"/login"},{default:m((function(){return[h]})),_:1}))])])})),w=n("5530"),M=n("5502"),y={name:"Navigation",computed:Object(w["a"])({},Object(M["b"])({user:function(e){return e.user},loggedIn:function(e){return e.loggedIn}})),methods:{logout:function(){this.$store.dispatch("logout")}}};n("ec42");y.render=I,y.__scopeId="data-v-3ababcbc";var E=y,_={components:{Navigation:E},watch:{$route:function(){if("/dashboard"===this.$route.path){var e=document.querySelector(".landingPageLogo"),t=document.querySelector(".mainApp");e.style.display="none",t.style.justifyContent="flex-start"}else{var n=document.querySelector(".landingPageLogo"),r=document.querySelector(".mainApp");n.style.display="inherit",r.style.justifyContent="center"}}},created:function(){var e=sessionStorage.getItem("user");e&&this.$store.dispatch("pageRefresh")}};n("f329");_.render=l;var k=_,$=(n("b0c0"),n("6c02")),C=Object(r["M"])("data-v-1402dc08"),S=C((function(e,t,n,o,c,a){return Object(r["v"])(),Object(r["d"])("div")})),U={name:"Home",components:{}};U.render=S,U.__scopeId="data-v-1402dc08";var x=U,A=Object(r["M"])("data-v-1e3e47ea");Object(r["y"])("data-v-1e3e47ea");var R={class:"dashboard"},T={class:"menus"},V={key:0,class:""},L={key:1},D={class:"container"},B={key:0,class:""},N=Object(r["g"])("h3",null,"Choose a menu to edit",-1),P={key:1,class:""},G={class:"menuItems"};Object(r["w"])();var K=A((function(e,t,n,o,c,a){var u=Object(r["C"])("UsersMenusComponent"),s=Object(r["C"])("Button"),i=Object(r["C"])("AddItemComponent"),d=Object(r["C"])("DisplayMenuComponent");return Object(r["v"])(),Object(r["d"])("div",R,[Object(r["g"])("div",T,[Object(r["g"])(u),e.menus.length<1?(Object(r["v"])(),Object(r["d"])("div",V," Must create a menu to start ")):Object(r["e"])("",!0),e.menus.length>0?(Object(r["v"])(),Object(r["d"])("div",L,[Object(r["g"])("div",D,[e.menu?(Object(r["v"])(),Object(r["d"])("div",P,[Object(r["g"])("h3",null,"Currently building "+Object(r["E"])(e.restaurant),1),Object(r["g"])(s,{class:"addItem",onClick:t[1]||(t[1]=function(e){return a.toggleAddItem()}),color:c.addItem?"red":"#0070fc",text:c.addItem?"Close":"Add Item"},null,8,["color","text"]),Object(r["K"])(Object(r["g"])(i,{onHideMe:t[2]||(t[2]=function(e){return a.toggleAddItem()}),class:"showAddItem"},null,512),[[r["H"],c.addItem]])])):(Object(r["v"])(),Object(r["d"])("div",B,[N]))])])):Object(r["e"])("",!0)]),Object(r["g"])("div",G,[Object(r["g"])(d)])])})),J=Object(r["M"])("data-v-62019266");Object(r["y"])("data-v-62019266");var q={key:0};Object(r["w"])();var F=J((function(e,t,n,o,c,a){var u=Object(r["C"])("Button"),s=Object(r["C"])("AddMenuComponent"),i=Object(r["C"])("ListMenusComponent");return Object(r["v"])(),Object(r["d"])(r["a"],null,[Object(r["g"])(u,{onClick:t[1]||(t[1]=function(e){return a.toggleAddMenu()}),color:c.showAddMenu?"red":"#0070fc",text:c.showAddMenu?"Close":"Add Menu"},null,8,["color","text"]),Object(r["K"])(Object(r["g"])(s,{onHideMe:t[2]||(t[2]=function(e){return a.toggleAddMenu()})},null,512),[[r["H"],c.showAddMenu]]),e.menus.length<1?(Object(r["v"])(),Object(r["d"])("div",q," Add your first menu ")):Object(r["e"])("",!0),Object(r["g"])(i)],64)})),H=Object(r["M"])("data-v-213e1e9f"),W=H((function(e,t,n,o,c,a){return Object(r["v"])(),Object(r["d"])("button",{style:{background:n.color}},Object(r["E"])(n.text),5)})),z={name:"Button",props:{text:String,color:String},methods:{}};n("f573");z.render=W,z.__scopeId="data-v-213e1e9f";var Q=z,X=Object(r["M"])("data-v-38eccf8e");Object(r["y"])("data-v-38eccf8e");var Y={class:"add-menu"},Z=Object(r["g"])("label",null,"Start a new menu",-1),ee={class:"bottomLine"},te=Object(r["g"])("label",null,"Add a new menu",-1);Object(r["w"])();var ne=X((function(e,t,n,o,c,a){return Object(r["v"])(),Object(r["d"])("div",Y,[Z,Object(r["K"])(Object(r["g"])("input",{type:"text",id:"add-menu","onUpdate:modelValue":t[1]||(t[1]=function(e){return c.menuTitle=e}),placeholder:"menu name..."},null,512),[[r["G"],c.menuTitle]]),Object(r["g"])("div",ee,[te,Object(r["g"])("button",{onClick:t[2]||(t[2]=function(e){return a.createNewMenu()})},"Submit")])])})),re={name:"AddMenuComponent",data:function(){return{menuTitle:""}},computed:Object(w["a"])({},Object(M["b"])({userId:function(e){return e.user._id}})),methods:{createNewMenu:function(){this.$store.dispatch("addMenu",{userId:this.userId,restaurant:this.menuTitle}),this.menuTitle="",this.$emit("hide-me")}}};n("8a26");re.render=ne,re.__scopeId="data-v-38eccf8e";var oe=re,ce=Object(r["M"])("data-v-464d6d82"),ae=ce((function(e,t,n,o,c,a){var u=Object(r["C"])("Button");return Object(r["v"])(!0),Object(r["d"])(r["a"],null,Object(r["B"])(e.menus,(function(e){return Object(r["v"])(),Object(r["d"])("li",{class:"menu",key:e._id},[Object(r["g"])("h3",null,Object(r["E"])(e.restaurant),1),Object(r["g"])(u,{class:"liButton",onClick:function(t){return a.chooseMenu(e._id)},color:"green",text:"Edit"},null,8,["onClick"]),Object(r["g"])(u,{class:"liButton",onClick:function(t){return a.removeMenu(e)},color:"red",text:"Remove"},null,8,["onClick"])])})),128)})),ue={name:"ListMenusComponent",components:{Button:Q},computed:Object(w["a"])({},Object(M["b"])({menus:function(e){return e.menus}})),methods:{chooseMenu:function(e){this.$store.state.error&&(this.$store.state.error=!1),this.$store.dispatch("getMenu",e)},removeMenu:function(e){this.$store.dispatch("removeMenu",e)}}};n("16ce");ue.render=ae,ue.__scopeId="data-v-464d6d82";var se=ue,ie={name:"UsersMenusComponent",components:{Button:Q,AddMenuComponent:oe,ListMenusComponent:se},data:function(){return{showAddMenu:!1}},computed:Object(w["a"])({},Object(M["b"])({menus:function(e){return e.menus}})),methods:{toggleAddMenu:function(){this.showAddMenu=!this.showAddMenu}}};ie.render=F,ie.__scopeId="data-v-62019266";var de=ie,le=(n("a4d3"),n("e01a"),Object(r["M"])("data-v-4710a270"));Object(r["y"])("data-v-4710a270");var me={class:"add-item"},be=Object(r["g"])("label",{for:"add-item"},"Add a menu item below",-1),pe={class:"bottomLine"},fe=Object(r["g"])("label",{for:"add-item"},"Add something delicious",-1);Object(r["w"])();var ge=le((function(e,t,n,o,c,a){return Object(r["v"])(),Object(r["d"])("div",me,[be,Object(r["K"])(Object(r["g"])("input",{type:"text",id:"add-item","onUpdate:modelValue":t[1]||(t[1]=function(e){return c.title=e}),placeholder:"item title..."},null,512),[[r["G"],c.title]]),Object(r["K"])(Object(r["g"])("input",{type:"text",id:"add-description","onUpdate:modelValue":t[2]||(t[2]=function(e){return c.description=e}),placeholder:"item description..."},null,512),[[r["G"],c.description]]),Object(r["K"])(Object(r["g"])("input",{type:"text",id:"add-price","onUpdate:modelValue":t[3]||(t[3]=function(e){return c.price=e}),placeholder:"item $price..."},null,512),[[r["G"],c.price]]),Object(r["K"])(Object(r["g"])("input",{type:"text",id:"add-categorie","onUpdate:modelValue":t[4]||(t[4]=function(e){return c.categorie=e}),placeholder:"item categorie..."},null,512),[[r["G"],c.categorie]]),Object(r["g"])("div",pe,[fe,Object(r["g"])("button",{onClick:t[5]||(t[5]=function(){return a.createNewItem&&a.createNewItem.apply(a,arguments)})},"Submit")])])})),Oe={name:"AddItemComponent",data:function(){return{title:"",description:"",price:"",categorie:""}},methods:{createNewItem:function(){this.$store.dispatch("newMenuItem",{menuId:this.$store.state.menu._id,title:this.title,description:this.description,price:this.price,categorie:this.categorie}),this.title="",this.description="",this.price="",this.categorie="",this.$emit("hide-me")}}};n("2cca");Oe.render=ge,Oe.__scopeId="data-v-4710a270";var je=Oe,he=Object(r["M"])("data-v-4deb67ac");Object(r["y"])("data-v-4deb67ac");var ve={key:0,class:"menuDisplay"};Object(r["w"])();var Ie=he((function(e,t,n,o,c,a){var u=Object(r["C"])("DisplayItemComponent"),s=Object(r["C"])("UpdateItemComponent");return e.menu&&!e.error?(Object(r["v"])(),Object(r["d"])("div",ve,[Object(r["g"])(u,{onEditItem:a.editItem},null,8,["onEditItem"]),e.showEditItem?(Object(r["v"])(),Object(r["d"])(s,{key:0,class:"centered",onToggleShow:a.toggleShow,menuItemId:c.menuItemId},null,8,["onToggleShow","menuItemId"])):Object(r["e"])("",!0)])):Object(r["e"])("",!0)})),we=Object(r["M"])("data-v-3cc7d9ae");Object(r["y"])("data-v-3cc7d9ae");var Me={key:0,class:"container"},ye={class:"title"},Ee={class:"description"},_e={class:"price"},ke={class:"categorie"},$e={class:"hide"};Object(r["w"])();var Ce=we((function(e,t,n,o,c,a){var u=Object(r["C"])("Button");return a.menuItems?(Object(r["v"])(),Object(r["d"])("div",Me,[(Object(r["v"])(!0),Object(r["d"])(r["a"],null,Object(r["B"])(a.menuItems,(function(e){return Object(r["v"])(),Object(r["d"])("li",{class:"item",key:e._id},[Object(r["g"])("h3",ye,Object(r["E"])(e.title),1),Object(r["g"])("p",Ee,Object(r["E"])(e.description),1),Object(r["g"])("h4",_e,"$"+Object(r["E"])(e.price),1),Object(r["g"])("p",ke,Object(r["E"])(e.categorie),1),Object(r["g"])("div",$e,[Object(r["g"])(u,{class:"liButton",onClick:function(t){return a.removeMenuItem(e)},color:"red",text:"Remove"},null,8,["onClick"]),Object(r["g"])(u,{class:"liButton",onClick:function(t){return a.getMenuItem(e)},color:"green",text:"Edit"},null,8,["onClick"])])])})),128))])):Object(r["e"])("",!0)})),Se=n("1da1"),Ue=(n("96cf"),{name:"DisplayItemComponent",components:{Button:Q},computed:{menuItems:function(){return this.$store.state.menuItems}},methods:{removeMenuItem:function(e){this.$store.dispatch("removeMenuItem",e)},getMenuItem:function(e){var t=this;return Object(Se["a"])(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.next=2,t.$store.dispatch("getMenuItem",e);case 2:t.$store.state.showEditItem=!t.$store.state.showEditItem;case 3:case"end":return n.stop()}}),n)})))()}},emits:["edit-item"]});n("90b9");Ue.render=Ce,Ue.__scopeId="data-v-3cc7d9ae";var xe=Ue,Ae=Object(r["M"])("data-v-7719329a");Object(r["y"])("data-v-7719329a");var Re={class:"update-item"},Te=Object(r["g"])("label",{for:"update-title"},"Edit item title",-1),Ve=Object(r["g"])("label",{for:"update-title"},"Edit item description",-1),Le=Object(r["g"])("label",{for:"update-title"},"Edit item price",-1),De=Object(r["g"])("label",{for:"update-title"},"Edit item categorie",-1);Object(r["w"])();var Be=Ae((function(e,t,n,o,c,a){var u=Object(r["C"])("Button");return Object(r["v"])(),Object(r["d"])("div",Re,[Te,Object(r["K"])(Object(r["g"])("input",{"onUpdate:modelValue":t[1]||(t[1]=function(e){return c.title=e}),type:"text"},null,512),[[r["G"],c.title]]),Ve,Object(r["K"])(Object(r["g"])("input",{"onUpdate:modelValue":t[2]||(t[2]=function(e){return c.description=e}),type:"text"},null,512),[[r["G"],c.description]]),Le,Object(r["K"])(Object(r["g"])("input",{"onUpdate:modelValue":t[3]||(t[3]=function(e){return c.price=e}),type:"text"},null,512),[[r["G"],c.price]]),De,Object(r["K"])(Object(r["g"])("input",{"onUpdate:modelValue":t[4]||(t[4]=function(e){return c.categorie=e}),type:"text"},null,512),[[r["G"],c.categorie]]),Object(r["g"])("button",{onClick:t[5]||(t[5]=function(){return a.updateMenuItem&&a.updateMenuItem.apply(a,arguments)}),type:"button",name:"button"},"Submit"),Object(r["g"])(u,{onClick:a.toggleShow,color:"blue",text:"close"},null,8,["onClick"])])})),Ne={name:"UpdateItemComponent",components:{Button:Q},data:function(){return{title:"",description:"",price:"",categorie:""}},created:function(){this.title=this.$store.state.menuItem.title,this.description=this.$store.state.menuItem.description,this.price=this.$store.state.menuItem.price,this.categorie=this.$store.state.menuItem.categorie},methods:{toggleShow:function(){this.$store.state.showEditItem=!this.$store.state.showEditItem},updateMenuItem:function(){this.$store.dispatch("updateMenuItem",{title:this.title,description:this.description,price:this.price,categorie:this.categorie,owner:this.$store.state.menu._id,_id:this.$store.state.menuItem._id}),this.$store.state.showEditItem=!this.$store.state.showEditItem}}};n("9334");Ne.render=Be,Ne.__scopeId="data-v-7719329a";var Pe=Ne,Ge={name:"DisplayMenuComponent",components:{DisplayItemComponent:xe,UpdateItemComponent:Pe},data:function(){return{menuItemId:""}},computed:Object(w["a"])({},Object(M["b"])({menu:function(e){return e.menu},showEditItem:function(e){return e.showEditItem},error:function(e){return e.error},errorMessage:function(e){return e.errorMessage}})),methods:{editItem:function(e){this.menuItemId=e,this.showEditItem=!this.showEditItem,this.$store.state.showAddItem&&(this.$store.state.showAddItem=!this.$store.state.showAddItem)},toggleShow:function(){this.showEditItem=!this.showEditItem}}};n("9966");Ge.render=Ie,Ge.__scopeId="data-v-4deb67ac";var Ke=Ge,Je={name:"Dashboard",components:{UsersMenusComponent:de,AddItemComponent:je,DisplayMenuComponent:Ke,Button:Q},data:function(){return{addItem:!1}},computed:Object(w["a"])({},Object(M["b"])({menu:function(e){return e.menu},menus:function(e){return e.menus},restaurant:function(e){return e.menu.restaurant},showAddItem:function(e){return e.showAddItem},error:function(e){return e.error}})),methods:{toggleAddItem:function(){this.addItem=!this.addItem}}};n("fe7b");Je.render=K,Je.__scopeId="data-v-1e3e47ea";var qe=Je,Fe=Object(r["M"])("data-v-6b1702f2");Object(r["y"])("data-v-6b1702f2");var He={class:"bottomLine"},We=Object(r["f"])(" Already have an account? Login. "),ze=Object(r["g"])("button",{type:"submit",name:"button"}," Register ",-1);Object(r["w"])();var Qe=Fe((function(e,t,n,o,c,a){var u=Object(r["C"])("FormInput"),s=Object(r["C"])("ErrorComponent"),i=Object(r["C"])("router-link");return Object(r["v"])(),Object(r["d"])("form",{class:"registerForm",onSubmit:t[4]||(t[4]=Object(r["L"])((function(){return a.register&&a.register.apply(a,arguments)}),["prevent"]))},[Object(r["g"])(u,{modelValue:c.username,"onUpdate:modelValue":t[1]||(t[1]=function(e){return c.username=e}),type:"text",name:"username",placeholder:"username...",label:"Username"},null,8,["modelValue"]),Object(r["g"])(u,{modelValue:c.email,"onUpdate:modelValue":t[2]||(t[2]=function(e){return c.email=e}),type:"text",name:"email",placeholder:"email...",label:"Email"},null,8,["modelValue"]),Object(r["g"])(u,{class:"password",modelValue:c.password,"onUpdate:modelValue":t[3]||(t[3]=function(e){return c.password=e}),type:"password",placeholder:"password...",name:"password",label:"Password"},null,8,["modelValue"]),e.$store.state.error?(Object(r["v"])(),Object(r["d"])(s,{key:0,text:"Error Registering..."})):Object(r["e"])("",!0),Object(r["g"])("div",He,[Object(r["g"])(i,{to:"/login"},{default:Fe((function(){return[We]})),_:1}),ze])],32)})),Xe=Object(r["M"])("data-v-b40f11fe");Object(r["y"])("data-v-b40f11fe");var Ye={class:"errMessage"};Object(r["w"])();var Ze=Xe((function(e,t,n,o,c,a){return Object(r["v"])(),Object(r["d"])("p",Ye,Object(r["E"])(n.text)+" "+Object(r["E"])(e.$store.state.errorMessage),1)})),et={name:"ErrorComponent",props:{text:String}};n("2139");et.render=Ze,et.__scopeId="data-v-b40f11fe";var tt=et,nt=Object(r["M"])("data-v-90f2af60");Object(r["y"])("data-v-90f2af60");var rt={class:"field"},ot={class:"secondelement"};Object(r["w"])();var ct=nt((function(e,t,n,o,c,a){return Object(r["v"])(),Object(r["d"])("div",rt,[Object(r["g"])("input",Object(r["o"])(e.$attrs,{value:n.modelValue,onInput:t[1]||(t[1]=function(t){return e.$emit("update:modelValue",t.target.value)})}),null,16,["value"]),Object(r["g"])("label",ot,Object(r["E"])(n.label),1)])})),at={name:"FormInput",props:["label","modelValue"],emits:["update:modelValue"],data:function(){return{}}};n("909e");at.render=ct,at.__scopeId="data-v-90f2af60";var ut=at,st={name:"RegisterUser",components:{ErrorComponent:tt,FormInput:ut},data:function(){return{username:"",email:"",password:""}},methods:{register:function(){var e=this;this.$store.state.error&&(this.$store.state.error=!this.$store.state.error,this.$store.state.error=""),this.$store.dispatch("register",{username:this.username,email:this.email,password:this.password}).then((function(){e.$store.state.error||e.$router.push({name:"dashboard"})}))}}};n("e139");st.render=Qe,st.__scopeId="data-v-6b1702f2";var it=st,dt={class:"formInput"},lt={key:0},mt={class:"formInput"},bt={key:0},pt={class:"bottomLine"},ft=Object(r["f"])(" Don't have an account? Register. "),gt=Object(r["g"])("button",{type:"submit",name:"button"}," Login ",-1);function Ot(e,t,n,o,c,a){var u=Object(r["C"])("FormInput"),s=Object(r["C"])("ErrorComponent"),i=Object(r["C"])("router-link");return Object(r["v"])(),Object(r["d"])("form",{class:"loginForm",onSubmit:t[3]||(t[3]=Object(r["L"])((function(){return a.login&&a.login.apply(a,arguments)}),["prevent"]))},[Object(r["g"])("div",dt,[Object(r["g"])(u,{class:{errorPlaceholder:c.v$.email.$error},modelValue:c.email,"onUpdate:modelValue":t[1]||(t[1]=function(e){return c.email=e}),type:"text",name:"email",placeholder:"email...",label:"Email"},null,8,["class","modelValue"]),c.v$.email.$error?(Object(r["v"])(),Object(r["d"])("span",lt,Object(r["E"])(c.v$.email.$errors[0].$message),1)):Object(r["e"])("",!0)]),Object(r["g"])("div",mt,[Object(r["g"])(u,{class:[{errorPlaceholder:c.v$.password.$error},"password"],modelValue:c.password,"onUpdate:modelValue":t[2]||(t[2]=function(e){return c.password=e}),type:"password",placeholder:"password...",name:"password",label:"Password"},null,8,["class","modelValue"]),c.v$.password.$error?(Object(r["v"])(),Object(r["d"])("span",bt,Object(r["E"])(c.v$.password.$errors[0].$message),1)):Object(r["e"])("",!0)]),e.error?(Object(r["v"])(),Object(r["d"])(s,{key:0,text:"Error Logging in..."})):Object(r["e"])("",!0),Object(r["g"])("div",pt,[Object(r["g"])(i,{to:"/register"},{default:Object(r["J"])((function(){return[ft]})),_:1}),gt])],32)}var jt=n("25a0"),ht=n("e3e1"),vt={components:{ErrorComponent:tt,FormInput:ut},data:function(){return{v$:Object(jt["a"])(),email:"",password:""}},validations:function(){return{email:{required:ht["c"],email:ht["a"]},password:{required:ht["c"],minLength:Object(ht["b"])(6)}}},computed:Object(w["a"])({},Object(M["b"])({error:function(e){return e.error}})),methods:{login:function(){var e=this;this.v$.$validate(),this.v$.$error||(this.$store.dispatch("login",{email:this.email,password:this.password}).then((function(){e.$store.state.error||e.$router.push({name:"dashboard"})})),this.$store.state.error&&(this.$store.state.error=!this.$store.state.error,this.$store.state.error=""))}}};n("56dd");vt.render=Ot;var It=vt,wt=[{path:"/",name:"home",component:x},{path:"/dashboard",name:"dashboard",component:qe,meta:{requiresAuth:!0}},{path:"/register",name:"register",component:it},{path:"/login",name:"login",component:It}],Mt=Object($["a"])({history:Object($["b"])("/"),routes:wt});Mt.beforeEach((function(e,t,n){var r=sessionStorage.getItem("user");"login"==e.name&&r?n({name:"dashboard"}):n()})),Mt.beforeEach((function(e,t,n){var r=sessionStorage.getItem("user");e.matched.some((function(e){return e.meta.requiresAuth}))&&!r?n("/"):n()}));var yt=Mt,Et=n("bc3a"),_t=n.n(Et),kt=n("d4ec"),$t=n("bee2"),Ct=(n("99af"),"api/menus/"),St=function(){function e(){Object(kt["a"])(this,e)}return Object($t["a"])(e,null,[{key:"getMenu",value:function(e){return _t.a.get("".concat(Ct).concat(e))}},{key:"updateMenu",value:function(e,t){return _t.a.patch("".concat(Ct).concat(e),t)}},{key:"removeMenu",value:function(e){return _t.a.delete("".concat(Ct).concat(e))}},{key:"getMenuItems",value:function(e){return _t.a.get("".concat(Ct).concat(e,"/menuitems"))}},{key:"newMenuItem",value:function(e,t){return _t.a.post("".concat(Ct).concat(e,"/menuitems"),t)}},{key:"getMenuItem",value:function(e,t){return _t.a.get("".concat(Ct).concat(e,"/").concat(t))}},{key:"updateMenuItem",value:function(e,t,n){return _t.a.patch("".concat(Ct).concat(e,"/").concat(t),n)}},{key:"removeMenuItem",value:function(e,t){return _t.a.delete("".concat(Ct).concat(e,"/").concat(t))}}]),e}(),Ut=St,xt="api/users/",At=function(){function e(){Object(kt["a"])(this,e)}return Object($t["a"])(e,null,[{key:"getUsers",value:function(){return _t.a.get("".concat(xt))}},{key:"newUser",value:function(e){return _t.a.post("".concat(xt),{newUser:e})}},{key:"getUser",value:function(e){return _t.a.get("".concat(xt).concat(e))}},{key:"updateUser",value:function(e,t){return _t.a.patch("".concat(xt).concat(e),{updates:t})}},{key:"getUsersMenus",value:function(e){return _t.a.get("".concat(xt).concat(e,"/menus"))}},{key:"newUsersMenu",value:function(e,t){return _t.a.post("".concat(xt).concat(e,"/menus"),t)}}]),e}(),Rt=At,Tt=(n("ac1f"),n("1276"),function(){function e(){Object(kt["a"])(this,e)}return Object($t["a"])(e,null,[{key:"parseJwt",value:function(e){try{var t=JSON.parse(atob(e.split(".")[1]));return t._id}catch(n){return null}}}]),e}()),Vt=Tt,Lt=Object(M["a"])({state:{error:!1,errorMessage:"",loggedIn:!1,user:null,menus:[],menu:null,menuItems:null,menuItem:null,showAddItem:!1,showEditItem:!1},mutations:{SET_ERROR_DATA:function(e,t){e.error=!e.error,e.errorMessage=t},SET_USERS_MENUS:function(e,t){e.menus=t},SET_USERS_MENU:function(e,t){e.menu=t},SET_MENU_ITEMS:function(e,t){e.menuItems=t},SET_MENU_ITEM:function(e,t){e.menuItem=t},SET_USER_DATA:function(e,t){e.user=t.data,e.loggedIn=!0},SET_JWT:function(e,t){sessionStorage.setItem("user",t.headers["auth-token"]),_t.a.defaults.headers.common["auth-token"]="".concat(t.headers["auth-token"])},LOGOUT:function(){sessionStorage.removeItem("user"),location.reload()}},actions:{register:function(e,t){var n=e.commit;return _t.a.post("api/register",t).then((function(e){n("SET_USER_DATA",e),n("SET_JWT",e)})).catch((function(e){var t=e.response;n("SET_ERROR_DATA",t.data)}))},login:function(e,t){var n=e.commit,r=e.dispatch;return _t.a.post("api/login",t).then((function(e){n("SET_USER_DATA",e),n("SET_JWT",e),r("getUsersMenus",e.data._id)})).catch((function(e){var t=e.response;n("SET_ERROR_DATA",t.data)}))},pageRefresh:function(e){return Object(Se["a"])(regeneratorRuntime.mark((function t(){var n,r,o,c;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n=e.commit,r=e.dispatch,o=sessionStorage.getItem("user"),c=Vt.parseJwt(o),t.next=5,Rt.getUser(c).then((function(e){n("SET_USER_DATA",e),r("getUsersMenus",c)})).catch((function(e){var t=e.response;n("SET_ERROR_DATA",t.data)}));case 5:case"end":return t.stop()}}),t)})))()},logout:function(e){var t=e.commit;t("LOGOUT")},addMenu:function(e,t){return Object(Se["a"])(regeneratorRuntime.mark((function n(){var r,o;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return r=e.dispatch,o=t.userId,n.next=4,Rt.newUsersMenu(o,t);case 4:r("getUsersMenus",o);case 5:case"end":return n.stop()}}),n)})))()},removeMenu:function(e,t){return Object(Se["a"])(regeneratorRuntime.mark((function n(){var r,o;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return r=e.dispatch,o=t._id,n.next=4,Ut.removeMenu(o);case 4:r("getUsersMenus",t.owner),r("getUsersMenuItems",o);case 6:case"end":return n.stop()}}),n)})))()},removeMenuItem:function(e,t){return Object(Se["a"])(regeneratorRuntime.mark((function n(){var r,o,c;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return r=e.dispatch,o=t.owner,c=t._id,n.next=5,Ut.removeMenuItem(o,c);case 5:r("getUsersMenuItems",o);case 6:case"end":return n.stop()}}),n)})))()},getUsersMenus:function(e,t){return Object(Se["a"])(regeneratorRuntime.mark((function n(){var r,o,c;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return r=e.commit,n.next=3,Rt.getUsersMenus(t);case 3:o=n.sent,c=o.data,r("SET_USERS_MENUS",c);case 6:case"end":return n.stop()}}),n)})))()},getMenu:function(e,t){return Object(Se["a"])(regeneratorRuntime.mark((function n(){var r,o;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return r=e.commit,o=e.dispatch,n.next=3,Ut.getMenu(t).then((function(e){var n=e.data;r("SET_USERS_MENU",n),o("getUsersMenuItems",t)})).catch((function(e){var t=e.response;r("SET_ERROR_DATA",t.data)}));case 3:case"end":return n.stop()}}),n)})))()},newMenuItem:function(e,t){return Object(Se["a"])(regeneratorRuntime.mark((function n(){var r,o;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return r=e.dispatch,o=t.menuId,n.next=4,Ut.newMenuItem(o,t);case 4:r("getUsersMenuItems",o);case 5:case"end":return n.stop()}}),n)})))()},getUsersMenuItems:function(e,t){return Object(Se["a"])(regeneratorRuntime.mark((function n(){var r;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return r=e.commit,n.next=3,Ut.getMenuItems(t).then((function(e){var t=e.data;r("SET_MENU_ITEMS",t)})).catch((function(e){var t=e.response;console.log("i'm triggered in getMenuItems"),r("SET_ERROR_DATA",t.data)}));case 3:case"end":return n.stop()}}),n)})))()},getMenuItem:function(e,t){return Object(Se["a"])(regeneratorRuntime.mark((function n(){var r,o,c,a,u;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return r=e.commit,o=t.owner,c=t._id,n.next=5,Ut.getMenuItem(o,c);case 5:a=n.sent,u=a.data,r("SET_MENU_ITEM",u);case 8:case"end":return n.stop()}}),n)})))()},updateMenuItem:function(e,t){return Object(Se["a"])(regeneratorRuntime.mark((function n(){var r,o,c;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return r=e.dispatch,o=t.owner,c=t._id,n.next=5,Ut.updateMenuItem(o,c,t);case 5:r("getUsersMenuItems",o);case 6:case"end":return n.stop()}}),n)})))()}},getters:{loggedIn:function(e){return!!e.loggedIn}},modules:{}});Object(r["c"])(k).use(Lt).use(yt).mount("#app")},"56dd":function(e,t,n){"use strict";n("d3d7")},"5cd1":function(e,t,n){},8003:function(e,t,n){},8507:function(e,t,n){},"8a26":function(e,t,n){"use strict";n("8003")},"909e":function(e,t,n){"use strict";n("963d")},"90b9":function(e,t,n){"use strict";n("da51")},9334:function(e,t,n){"use strict";n("4c5e")},"963d":function(e,t,n){},"98f5":function(e,t,n){},9966:function(e,t,n){"use strict";n("98f5")},be8e:function(e,t,n){},cf05:function(e,t,n){e.exports=n.p+"img/logo.cf800555.png"},d3d7:function(e,t,n){},da51:function(e,t,n){},e09f:function(e,t,n){},e0da:function(e,t,n){},e139:function(e,t,n){"use strict";n("e9e3")},e9e3:function(e,t,n){},ec42:function(e,t,n){"use strict";n("e09f")},f329:function(e,t,n){"use strict";n("be8e")},f573:function(e,t,n){"use strict";n("2469")},f937:function(e,t,n){e.exports=n.p+"img/homePageBG.58cea5ac.jpg"},fe7b:function(e,t,n){"use strict";n("e0da")}});
//# sourceMappingURL=app.29e8a587.js.map