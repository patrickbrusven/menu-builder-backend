(function(e){function t(t){for(var r,c,s=t[0],u=t[1],i=t[2],l=0,m=[];l<s.length;l++)c=s[l],Object.prototype.hasOwnProperty.call(a,c)&&a[c]&&m.push(a[c][0]),a[c]=0;for(r in u)Object.prototype.hasOwnProperty.call(u,r)&&(e[r]=u[r]);d&&d(t);while(m.length)m.shift()();return o.push.apply(o,i||[]),n()}function n(){for(var e,t=0;t<o.length;t++){for(var n=o[t],r=!0,s=1;s<n.length;s++){var u=n[s];0!==a[u]&&(r=!1)}r&&(o.splice(t--,1),e=c(c.s=n[0]))}return e}var r={},a={app:0},o=[];function c(t){if(r[t])return r[t].exports;var n=r[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,c),n.l=!0,n.exports}c.m=e,c.c=r,c.d=function(e,t,n){c.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},c.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},c.t=function(e,t){if(1&t&&(e=c(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(c.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)c.d(n,r,function(t){return e[t]}.bind(null,r));return n},c.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return c.d(t,"a",t),t},c.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},c.p="/";var s=window["webpackJsonp"]=window["webpackJsonp"]||[],u=s.push.bind(s);s.push=t,s=s.slice();for(var i=0;i<s.length;i++)t(s[i]);var d=u;o.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("56d7")},"0236":function(e,t,n){},2139:function(e,t,n){"use strict";n("8507")},2469:function(e,t,n){},"2b9c":function(e,t,n){"use strict";n("ce27")},"3ad9":function(e,t,n){},"3be5":function(e,t,n){},"4f9b":function(e,t,n){"use strict";n("f041")},"56d7":function(e,t,n){"use strict";n.r(t);n("e260"),n("e6cf"),n("cca6"),n("a79d");var r=n("7a23"),a=n("f937"),o=n.n(a),c=n("cf05"),s=n.n(c),u={class:"mainApp"},i=Object(r["g"])("img",{class:"backgroundImage",src:o.a,alt:"restaurant table with menu coffee and dish"},null,-1),d=Object(r["g"])("img",{class:"landingPageLogo",src:s.a,alt:"main logo"},null,-1);function l(e,t,n,a,o,c){var s=Object(r["w"])("Navigation"),l=Object(r["w"])("router-view");return Object(r["p"])(),Object(r["d"])("div",u,[Object(r["g"])(s),i,d,Object(r["g"])(l)])}var m=Object(r["F"])("data-v-0fb2167d");Object(r["s"])("data-v-0fb2167d");var p={id:"nav"},b={class:"mainLinks"},f=Object(r["f"])("Home"),g=Object(r["f"])("Dashboard"),h={class:"userLogin"},O=Object(r["f"])("Register"),j=Object(r["f"])("Login"),v={key:2,class:"userStatus"};Object(r["q"])();var w=m((function(e,t,n,a,o,c){var s=Object(r["w"])("router-link");return Object(r["p"])(),Object(r["d"])("div",p,[Object(r["g"])("div",b,[Object(r["g"])(s,{to:"/",class:"home"},{default:m((function(){return[f]})),_:1}),e.loggedIn?(Object(r["p"])(),Object(r["d"])(s,{key:0,to:"/dashboard"},{default:m((function(){return[g]})),_:1})):Object(r["e"])("",!0)]),Object(r["g"])("div",h,[e.loggedIn?Object(r["e"])("",!0):(Object(r["p"])(),Object(r["d"])(s,{key:0,to:"/register"},{default:m((function(){return[O]})),_:1})),e.loggedIn?(Object(r["p"])(),Object(r["d"])("div",v,[Object(r["g"])("h3",null,"Welcome back: "+Object(r["y"])(e.$store.state.user.username),1),Object(r["g"])("button",{type:"button",class:"logoutButton",onClick:t[1]||(t[1]=function(){return c.logout&&c.logout.apply(c,arguments)})},"Logout")])):(Object(r["p"])(),Object(r["d"])(s,{key:1,to:"/login"},{default:m((function(){return[j]})),_:1}))])])})),I=n("5502"),y={name:"Navigation",computed:Object(I["b"])(["loggedIn"]),methods:{logout:function(){this.$store.dispatch("logout")}}};n("60d3");y.render=w,y.__scopeId="data-v-0fb2167d";var M=y,_={components:{Navigation:M},watch:{$route:function(){if("/dashboard"===this.$route.path){var e=document.querySelector(".landingPageLogo"),t=document.querySelector(".mainApp");e.style.display="none",t.style.justifyContent="flex-start"}else{var n=document.querySelector(".landingPageLogo"),r=document.querySelector(".mainApp");n.style.display="inherit",r.style.justifyContent="center"}}},created:function(){var e=localStorage.getItem("user");e&&this.$store.dispatch("pageRefresh")}};n("b249");_.render=l;var k=_,E=n("6c02"),A=Object(r["F"])("data-v-1402dc08"),$=A((function(e,t,n,a,o,c){return Object(r["p"])(),Object(r["d"])("div")})),S={name:"Home",components:{}};S.render=$,S.__scopeId="data-v-1402dc08";var R=S,x=Object(r["F"])("data-v-f391a9aa");Object(r["s"])("data-v-f391a9aa");var U={class:"dashboard"},C={class:"container"},T={key:0,class:""},D=Object(r["g"])("h3",null,"Choose a menu to edit",-1),B={key:1,class:""};Object(r["q"])();var N=x((function(e,t,n,a,o,c){var s=Object(r["w"])("UsersMenusComponent"),u=Object(r["w"])("Button"),i=Object(r["w"])("AddItemComponent"),d=Object(r["w"])("DisplayMenuComponent");return Object(r["p"])(),Object(r["d"])("div",U,[Object(r["g"])(s),Object(r["g"])("div",C,[e.$store.state.menu?(Object(r["p"])(),Object(r["d"])("div",B,[Object(r["g"])("h3",null,"Currently building "+Object(r["y"])(e.$store.state.menu.restaurant),1),Object(r["g"])(u,{class:"addItem",onClick:t[1]||(t[1]=function(e){return c.showAddItem()}),color:e.$store.state.showAddItem?"red":"#0070fc",text:e.$store.state.showAddItem?"Close":"Add Item"},null,8,["color","text"]),Object(r["D"])(Object(r["g"])(i,{class:"showAddItem"},null,512),[[r["B"],e.$store.state.showAddItem]])])):(Object(r["p"])(),Object(r["d"])("div",T,[D]))]),Object(r["g"])(d)])})),q=Object(r["F"])("data-v-1a54a001");Object(r["s"])("data-v-1a54a001");var L={class:"wrapper"},F={class:"add-menu"},V=Object(r["g"])("label",null,"Start a new restaurant",-1),P={class:"bottomLine"},J=Object(r["g"])("label",null,"Add a new menu",-1);Object(r["q"])();var G=q((function(e,t,n,a,o,c){var s=Object(r["w"])("Button");return Object(r["p"])(),Object(r["d"])(r["a"],null,[Object(r["g"])("div",L,[Object(r["g"])(s,{class:"addItem",onClick:t[1]||(t[1]=function(e){return c.showAddRestaurant()}),color:e.$store.state.showAddRestaurant?"red":"#0070fc",text:e.$store.state.showAddRestaurant?"Close":"Add Menu"},null,8,["color","text"]),Object(r["D"])(Object(r["g"])("div",F,[V,Object(r["D"])(Object(r["g"])("input",{type:"text",id:"add-menu","onUpdate:modelValue":t[2]||(t[2]=function(e){return o.restaurant=e}),placeholder:"restaurant name..."},null,512),[[r["A"],o.restaurant]]),Object(r["g"])("div",P,[J,Object(r["g"])("button",{onClick:t[3]||(t[3]=function(){return c.createNewMenu&&c.createNewMenu.apply(c,arguments)})},"Submit")])],512),[[r["B"],e.$store.state.showAddRestaurant]])]),(Object(r["p"])(!0),Object(r["d"])(r["a"],null,Object(r["v"])(e.$store.state.menus,(function(t){return Object(r["D"])((Object(r["p"])(),Object(r["d"])("li",{class:"menu",key:t._id},[Object(r["g"])("h3",null,Object(r["y"])(t.restaurant),1),Object(r["g"])(s,{class:"liButton",onClick:function(e){return c.chooseMenu(t._id)},color:"green",text:"Edit"},null,8,["onClick"]),Object(r["g"])(s,{class:"liButton",onClick:function(e){return c.removeMenu(t._id)},color:"red",text:"Remove"},null,8,["onClick"])],512)),[[r["B"],e.$store.state.menus]])})),128))],64)})),H=Object(r["F"])("data-v-213e1e9f"),W=H((function(e,t,n,a,o,c){return Object(r["p"])(),Object(r["d"])("button",{style:{background:n.color}},Object(r["y"])(n.text),5)})),z={name:"Button",props:{text:String,color:String},methods:{}};n("f573");z.render=W,z.__scopeId="data-v-213e1e9f";var K=z,Q={name:"UsersMenusComponent",components:{Button:K},data:function(){return{restaurant:""}},methods:{createNewMenu:function(){this.$store.dispatch("addMenu",{restaurant:this.restaurant}),this.restaurant="",this.showAddRestaurant()},chooseMenu:function(e){this.$store.dispatch("getMenu",{menuId:e})},removeMenu:function(e){this.$store.dispatch("removeMenu",{menuId:e})},showAddRestaurant:function(){this.$store.state.showAddRestaurant=!this.$store.state.showAddRestaurant}},created:function(){this.$store.dispatch("getUsersMenus")}};n("a765");Q.render=G,Q.__scopeId="data-v-1a54a001";var X=Q,Y=(n("a4d3"),n("e01a"),Object(r["F"])("data-v-9538f188"));Object(r["s"])("data-v-9538f188");var Z={class:"add-item"},ee=Object(r["g"])("label",{for:"add-item"},"Add a menu item below",-1),te={class:"bottomLine"},ne=Object(r["g"])("label",{for:"add-item"},"Add something delicious",-1);Object(r["q"])();var re=Y((function(e,t,n,a,o,c){return Object(r["p"])(),Object(r["d"])("div",Z,[ee,Object(r["D"])(Object(r["g"])("input",{type:"text",id:"add-item","onUpdate:modelValue":t[1]||(t[1]=function(e){return o.title=e}),placeholder:"item title..."},null,512),[[r["A"],o.title]]),Object(r["D"])(Object(r["g"])("input",{type:"text",id:"add-description","onUpdate:modelValue":t[2]||(t[2]=function(e){return o.description=e}),placeholder:"item description..."},null,512),[[r["A"],o.description]]),Object(r["D"])(Object(r["g"])("input",{type:"text",id:"add-price","onUpdate:modelValue":t[3]||(t[3]=function(e){return o.price=e}),placeholder:"item $price..."},null,512),[[r["A"],o.price]]),Object(r["D"])(Object(r["g"])("input",{type:"text",id:"add-categorie","onUpdate:modelValue":t[4]||(t[4]=function(e){return o.categorie=e}),placeholder:"item categorie..."},null,512),[[r["A"],o.categorie]]),Object(r["g"])("div",te,[ne,Object(r["g"])("button",{onClick:t[5]||(t[5]=function(){return c.createNewItem&&c.createNewItem.apply(c,arguments)})},"Submit")])])})),ae={name:"AddItemComponent",data:function(){return{title:"",description:"",price:"",categorie:""}},methods:{createNewItem:function(){this.$store.dispatch("newMenuItem",{title:this.title,description:this.description,price:this.price,categorie:this.categorie}),this.title="",this.description="",this.price="",this.categorie="",this.$store.state.showAddItem=!this.$store.state.showAddItem}}};n("2b9c");ae.render=re,ae.__scopeId="data-v-9538f188";var oe=ae,ce=Object(r["F"])("data-v-e00efe34");Object(r["s"])("data-v-e00efe34");var se={key:0,class:"menuDisplay"},ue={key:1},ie=Object(r["g"])("h3",null," This instead of Menu ",-1);Object(r["q"])();var de=ce((function(e,t,n,a,o,c){var s=Object(r["w"])("DisplayItemComponent"),u=Object(r["w"])("UpdateItemComponent");return e.$store.state.menu?(Object(r["p"])(),Object(r["d"])("div",se,[Object(r["g"])(s,{onEditItem:c.editItem},null,8,["onEditItem"]),e.$store.state.showEditItem?(Object(r["p"])(),Object(r["d"])(u,{key:0,class:"centered",onToggleShow:c.toggleShow,menuItemId:o.menuItemId},null,8,["onToggleShow","menuItemId"])):Object(r["e"])("",!0)])):(Object(r["p"])(),Object(r["d"])("div",ue,[ie]))})),le=Object(r["F"])("data-v-51aed994");Object(r["s"])("data-v-51aed994");var me={key:0,class:"container"},pe={class:"title"},be={class:"description"},fe={class:"price"},ge={class:"categorie"},he={class:"hide"};Object(r["q"])();var Oe=le((function(e,t,n,a,o,c){var s=Object(r["w"])("Button");return e.$store.state.menuItems?(Object(r["p"])(),Object(r["d"])("div",me,[(Object(r["p"])(!0),Object(r["d"])(r["a"],null,Object(r["v"])(e.$store.state.menuItems,(function(e){return Object(r["p"])(),Object(r["d"])("li",{class:"item",key:e._id},[Object(r["g"])("h3",pe,Object(r["y"])(e.title),1),Object(r["g"])("p",be,Object(r["y"])(e.description),1),Object(r["g"])("h4",fe,"$"+Object(r["y"])(e.price),1),Object(r["g"])("p",ge,Object(r["y"])(e.categorie),1),Object(r["g"])("div",he,[Object(r["g"])(s,{class:"liButton",onClick:function(t){return c.removeMenuItem(e._id)},color:"red",text:"Remove"},null,8,["onClick"]),Object(r["g"])(s,{class:"liButton",onClick:function(t){return c.getMenuItem(e._id)},color:"green",text:"Edit"},null,8,["onClick"])])])})),128))])):Object(r["e"])("",!0)})),je=n("1da1"),ve=(n("96cf"),n("d4ec")),we=n("bee2"),Ie=(n("99af"),n("bc3a")),ye=n.n(Ie),Me="api/menus/",_e=function(){function e(){Object(ve["a"])(this,e)}return Object(we["a"])(e,null,[{key:"getMenu",value:function(e){return ye.a.get("".concat(Me).concat(e))}},{key:"updateMenu",value:function(e,t){return ye.a.patch("".concat(Me).concat(e),t)}},{key:"removeMenu",value:function(e){return ye.a.delete("".concat(Me).concat(e))}},{key:"getMenuItems",value:function(e){return ye.a.get("".concat(Me).concat(e,"/menuitems"))}},{key:"newMenuItem",value:function(e,t){return ye.a.post("".concat(Me).concat(e,"/menuitems"),t)}},{key:"getMenuItem",value:function(e,t){return ye.a.get("".concat(Me).concat(e,"/").concat(t))}},{key:"updateMenuItem",value:function(e,t,n){return ye.a.patch("".concat(Me).concat(e,"/").concat(t),n)}},{key:"removeMenuItem",value:function(e,t){return ye.a.delete("".concat(Me).concat(e,"/").concat(t))}}]),e}(),ke=_e,Ee={name:"DisplayItemComponent",components:{Button:K},methods:{deleteItem:function(e){var t=this;return Object(je["a"])(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.next=2,ke.deleteMenuItem(e);case 2:return n.next=4,t.fetchMenu();case 4:case"end":return n.stop()}}),n)})))()},removeMenuItem:function(e){this.$store.dispatch("removeMenuItem",e)},getMenuItem:function(e){var t=this;return Object(je["a"])(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.next=2,t.$store.dispatch("getMenuItem",e);case 2:t.$store.state.showEditItem=!t.$store.state.showEditItem;case 3:case"end":return n.stop()}}),n)})))()}},emits:["edit-item"]};n("e265");Ee.render=Oe,Ee.__scopeId="data-v-51aed994";var Ae=Ee,$e=Object(r["F"])("data-v-45559e8a");Object(r["s"])("data-v-45559e8a");var Se={class:"update-item"},Re=Object(r["g"])("label",{for:"update-title"},"Edit item title",-1),xe=Object(r["g"])("label",{for:"update-title"},"Edit item description",-1),Ue=Object(r["g"])("label",{for:"update-title"},"Edit item price",-1),Ce=Object(r["g"])("label",{for:"update-title"},"Edit item categorie",-1);Object(r["q"])();var Te=$e((function(e,t,n,a,o,c){var s=Object(r["w"])("Button");return Object(r["p"])(),Object(r["d"])("div",Se,[Re,Object(r["D"])(Object(r["g"])("input",{"onUpdate:modelValue":t[1]||(t[1]=function(e){return o.title=e}),type:"text"},null,512),[[r["A"],o.title]]),xe,Object(r["D"])(Object(r["g"])("input",{"onUpdate:modelValue":t[2]||(t[2]=function(e){return o.description=e}),type:"text"},null,512),[[r["A"],o.description]]),Ue,Object(r["D"])(Object(r["g"])("input",{"onUpdate:modelValue":t[3]||(t[3]=function(e){return o.price=e}),type:"text"},null,512),[[r["A"],o.price]]),Ce,Object(r["D"])(Object(r["g"])("input",{"onUpdate:modelValue":t[4]||(t[4]=function(e){return o.categorie=e}),type:"text"},null,512),[[r["A"],o.categorie]]),Object(r["g"])("button",{onClick:t[5]||(t[5]=function(){return c.updateMenuItem&&c.updateMenuItem.apply(c,arguments)}),type:"button",name:"button"},"Submit"),Object(r["g"])(s,{onClick:c.toggleShow,color:"blue",text:"close"},null,8,["onClick"])])})),De={name:"UpdateItemComponent",components:{Button:K},data:function(){return{title:"",description:"",price:"",categorie:""}},created:function(){this.title=this.$store.state.menuItem.title,this.description=this.$store.state.menuItem.description,this.price=this.$store.state.menuItem.price,this.categorie=this.$store.state.menuItem.categorie},methods:{toggleShow:function(){this.$store.state.showEditItem=!this.$store.state.showEditItem},updateMenuItem:function(){this.$store.dispatch("updateMenuItem",{title:this.title,description:this.description,price:this.price,categorie:this.categorie}),this.$store.state.showEditItem=!this.$store.state.showEditItem}}};n("b335");De.render=Te,De.__scopeId="data-v-45559e8a";var Be=De,Ne={name:"DisplayMenuComponent",components:{DisplayItemComponent:Ae,UpdateItemComponent:Be},data:function(){return{showEditItem:!1,menuItemId:""}},methods:{editItem:function(e){this.menuItemId=e,this.showEditItem=!this.showEditItem,this.$store.state.showAddItem&&(this.$store.state.showAddItem=!this.$store.state.showAddItem)},toggleShow:function(){this.showEditItem=!this.showEditItem}}};n("b408");Ne.render=de,Ne.__scopeId="data-v-e00efe34";var qe=Ne,Le={name:"Dashboard",components:{UsersMenusComponent:X,AddItemComponent:oe,DisplayMenuComponent:qe,Button:K},data:function(){return{addItem:!1}},methods:{showAddItem:function(){this.$store.state.showAddItem=!this.$store.state.showAddItem}}};n("dcbc");Le.render=N,Le.__scopeId="data-v-f391a9aa";var Fe=Le,Ve=Object(r["F"])("data-v-98fdf7e8");Object(r["s"])("data-v-98fdf7e8");var Pe={class:"bottomLine"},Je=Object(r["f"])(" Already have an account? Login. "),Ge=Object(r["g"])("button",{type:"submit",name:"button"}," Register ",-1);Object(r["q"])();var He=Ve((function(e,t,n,a,o,c){var s=Object(r["w"])("ErrorComponent"),u=Object(r["w"])("router-link");return Object(r["p"])(),Object(r["d"])("form",{class:"registerForm",onSubmit:t[4]||(t[4]=Object(r["E"])((function(){return c.register&&c.register.apply(c,arguments)}),["prevent"]))},[Object(r["D"])(Object(r["g"])("input",{"onUpdate:modelValue":t[1]||(t[1]=function(e){return o.username=e}),type:"text",name:"username",placeholder:"Username..."},null,512),[[r["A"],o.username]]),Object(r["D"])(Object(r["g"])("input",{"onUpdate:modelValue":t[2]||(t[2]=function(e){return o.email=e}),type:"email",name:"email",placeholder:"Email..."},null,512),[[r["A"],o.email]]),Object(r["D"])(Object(r["g"])("input",{"onUpdate:modelValue":t[3]||(t[3]=function(e){return o.password=e}),type:"password",name:"password",placeholder:"Password..."},null,512),[[r["A"],o.password]]),e.$store.state.error?(Object(r["p"])(),Object(r["d"])(s,{key:0,text:"Error Registering..."})):Object(r["e"])("",!0),Object(r["g"])("div",Pe,[Object(r["g"])(u,{to:"/login"},{default:Ve((function(){return[Je]})),_:1}),Ge])],32)})),We=Object(r["F"])("data-v-b40f11fe");Object(r["s"])("data-v-b40f11fe");var ze={class:"errMessage"};Object(r["q"])();var Ke=We((function(e,t,n,a,o,c){return Object(r["p"])(),Object(r["d"])("p",ze,Object(r["y"])(n.text)+" "+Object(r["y"])(e.$store.state.errorMessage),1)})),Qe={name:"ErrorComponent",props:{text:String}};n("2139");Qe.render=Ke,Qe.__scopeId="data-v-b40f11fe";var Xe=Qe,Ye={name:"RegisterUser",components:{ErrorComponent:Xe},data:function(){return{username:"",email:"",password:""}},methods:{register:function(){var e=this;this.$store.state.error&&(this.$store.state.error=!this.$store.state.error,this.$store.state.error=""),this.$store.dispatch("register",{username:this.username,email:this.email,password:this.password}).then((function(){e.$store.state.error||e.$router.push({name:"dashboard"})}))}}};n("4f9b");Ye.render=He,Ye.__scopeId="data-v-98fdf7e8";var Ze=Ye,et=Object(r["F"])("data-v-696e6786");Object(r["s"])("data-v-696e6786");var tt={class:"bottomLine"},nt=Object(r["f"])(" Don't have an account? Register. "),rt=Object(r["g"])("button",{type:"submit",name:"button"}," Login ",-1);Object(r["q"])();var at=et((function(e,t,n,a,o,c){var s=Object(r["w"])("ErrorComponent"),u=Object(r["w"])("router-link");return Object(r["p"])(),Object(r["d"])("form",{class:"loginForm",onSubmit:t[3]||(t[3]=Object(r["E"])((function(){return c.login&&c.login.apply(c,arguments)}),["prevent"]))},[Object(r["D"])(Object(r["g"])("input",{"onUpdate:modelValue":t[1]||(t[1]=function(e){return o.email=e}),type:"email",name:"email",placeholder:"Email..."},null,512),[[r["A"],o.email]]),Object(r["D"])(Object(r["g"])("input",{"onUpdate:modelValue":t[2]||(t[2]=function(e){return o.password=e}),type:"password",name:"password",placeholder:"Password..."},null,512),[[r["A"],o.password]]),e.$store.state.error?(Object(r["p"])(),Object(r["d"])(s,{key:0,text:"Error Logging in..."})):Object(r["e"])("",!0),Object(r["g"])("div",tt,[Object(r["g"])(u,{to:"/register"},{default:et((function(){return[nt]})),_:1}),rt])],32)})),ot={components:{ErrorComponent:Xe},data:function(){return{email:"",password:""}},methods:{login:function(){var e=this;this.$store.state.error&&(this.$store.state.error=!this.$store.state.error,this.$store.state.error=""),this.$store.dispatch("login",{email:this.email,password:this.password}).then((function(){e.$store.state.error||e.$router.push({name:"dashboard"})}))}}};n("ed4d");ot.render=at,ot.__scopeId="data-v-696e6786";var ct=ot,st=[{path:"/",name:"home",component:R},{path:"/dashboard",name:"dashboard",component:Fe,meta:{requiresAuth:!0}},{path:"/register",name:"register",component:Ze},{path:"/login",name:"login",component:ct}],ut=Object(E["a"])({history:Object(E["b"])("/"),routes:st});ut.beforeEach((function(e,t,n){var r=localStorage.getItem("user");e.matched.some((function(e){return e.meta.requiresAuth}))&&!r?n("/"):n()}));var it=ut,dt="api/users/",lt=function(){function e(){Object(ve["a"])(this,e)}return Object(we["a"])(e,null,[{key:"getUsers",value:function(){return ye.a.get("".concat(dt))}},{key:"newUser",value:function(e){return ye.a.post("".concat(dt),{newUser:e})}},{key:"getUser",value:function(e){return ye.a.get("".concat(dt).concat(e))}},{key:"updateUser",value:function(e,t){return ye.a.patch("".concat(dt).concat(e),{updates:t})}},{key:"getUsersMenus",value:function(e){return ye.a.get("".concat(dt).concat(e,"/menus"))}},{key:"newUsersMenu",value:function(e,t){return ye.a.post("".concat(dt).concat(e,"/menus"),t)}}]),e}(),mt=lt,pt="api/",bt=function(){function e(){Object(ve["a"])(this,e)}return Object(we["a"])(e,null,[{key:"getUserByToken",value:function(e){return ye.a.get("".concat(pt).concat(e))}}]),e}(),ft=bt,gt=Object(I["a"])({state:{error:!1,errorMessage:"",loggedIn:!1,user:null,menus:null,menu:null,menuItems:null,menuItem:null,showAddRestaurant:!1,showAddItem:!1,showEditItem:!1},mutations:{SET_ERROR_DATA:function(e,t){e.error=!e.error,e.errorMessage=t},SET_USERS_MENUS:function(e,t){e.menus=t},SET_USERS_MENU:function(e,t){e.menu=t},SET_MENU_ITEMS:function(e,t){e.menuItems=t},SET_MENU_ITEM:function(e,t){e.menuItem=t},SET_USER_DATA:function(e,t){e.loggedIn=!0,e.user=t,localStorage.setItem("user",JSON.stringify(t.token)),ye.a.defaults.headers.common["auth-token"]="".concat(t.token)},LOGOUT:function(){localStorage.removeItem("user"),location.reload()}},actions:{register:function(e,t){var n=e.commit;return ye.a.post("api/register",t).then((function(e){var t=e.data;n("SET_USER_DATA",t)})).catch((function(e){var t=e.response;n("SET_ERROR_DATA",t.data)}))},login:function(e,t){return Object(je["a"])(regeneratorRuntime.mark((function n(){var r;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return r=e.commit,n.abrupt("return",ye.a.post("api/login",t).then((function(e){var t=e.data;r("SET_USER_DATA",t)})).catch((function(e){var t=e.response;r("SET_ERROR_DATA",t.data)})));case 2:case"end":return n.stop()}}),n)})))()},logout:function(e){var t=e.commit;t("LOGOUT")},pageRefresh:function(e){return Object(je["a"])(regeneratorRuntime.mark((function t(){var n,r,a,o,c;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n=e.commit,r=localStorage.getItem("user"),a=JSON.parse(r),t.next=5,ft.getUserByToken(a);case 5:o=t.sent,c=o.data,n("SET_USER_DATA",c);case 8:case"end":return t.stop()}}),t)})))()},addMenu:function(e,t){var n=this;return Object(je["a"])(regeneratorRuntime.mark((function r(){var a,o;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return a=e.dispatch,o=n.state.user._id,r.next=4,mt.newUsersMenu(o,t);case 4:a("getUsersMenus");case 5:case"end":return r.stop()}}),r)})))()},removeMenu:function(e,t){return Object(je["a"])(regeneratorRuntime.mark((function n(){var r;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return r=e.dispatch,n.next=3,ke.removeMenu(t.menuId);case 3:r("getUsersMenus");case 4:case"end":return n.stop()}}),n)})))()},removeMenuItem:function(e,t){var n=this;return Object(je["a"])(regeneratorRuntime.mark((function r(){var a,o;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return a=e.dispatch,o=n.state.menu._id,r.next=4,ke.removeMenuItem(o,t);case 4:a("getUsersMenuItems");case 5:case"end":return r.stop()}}),r)})))()},getUsersMenus:function(e){var t=this;return Object(je["a"])(regeneratorRuntime.mark((function n(){var r,a,o,c;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return r=e.commit,a=t.state.user._id,n.next=4,mt.getUsersMenus(a);case 4:o=n.sent,c=o.data,r("SET_USERS_MENUS",c);case 7:case"end":return n.stop()}}),n)})))()},getMenu:function(e,t){return Object(je["a"])(regeneratorRuntime.mark((function n(){var r,a,o,c;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return r=e.commit,a=e.dispatch,n.next=3,ke.getMenu(t.menuId);case 3:o=n.sent,c=o.data,r("SET_USERS_MENU",c),a("getUsersMenuItems");case 7:case"end":return n.stop()}}),n)})))()},newMenuItem:function(e,t){var n=this;return Object(je["a"])(regeneratorRuntime.mark((function r(){var a,o;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return a=e.dispatch,o=n.state.menu._id,r.next=4,ke.newMenuItem(o,t);case 4:a("getUsersMenuItems");case 5:case"end":return r.stop()}}),r)})))()},getUsersMenuItems:function(e){var t=this;return Object(je["a"])(regeneratorRuntime.mark((function n(){var r,a,o,c;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return r=e.commit,a=t.state.menu._id,n.next=4,ke.getMenuItems(a);case 4:o=n.sent,c=o.data,r("SET_MENU_ITEMS",c);case 7:case"end":return n.stop()}}),n)})))()},getMenuItem:function(e,t){var n=this;return Object(je["a"])(regeneratorRuntime.mark((function r(){var a,o,c,s;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return a=e.commit,o=n.state.menu._id,r.next=4,ke.getMenuItem(o,t);case 4:c=r.sent,s=c.data,a("SET_MENU_ITEM",s);case 7:case"end":return r.stop()}}),r)})))()},updateMenuItem:function(e,t){var n=this;return Object(je["a"])(regeneratorRuntime.mark((function r(){var a,o,c;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return a=e.dispatch,o=n.state.menu._id,c=n.state.menuItem._id,r.next=5,ke.updateMenuItem(o,c,t);case 5:a("getUsersMenuItems");case 6:case"end":return r.stop()}}),r)})))()}},getters:{loggedIn:function(e){return!!e.loggedIn}},modules:{}});Object(r["c"])(k).use(gt).use(it).mount("#app")},"60d3":function(e,t,n){"use strict";n("c129")},8507:function(e,t,n){},"928b":function(e,t,n){},a765:function(e,t,n){"use strict";n("b72c")},ad44:function(e,t,n){},b249:function(e,t,n){"use strict";n("3ad9")},b335:function(e,t,n){"use strict";n("928b")},b408:function(e,t,n){"use strict";n("ad44")},b72c:function(e,t,n){},c129:function(e,t,n){},ce27:function(e,t,n){},cf05:function(e,t,n){e.exports=n.p+"img/logo.cf800555.png"},dcbc:function(e,t,n){"use strict";n("3be5")},de87:function(e,t,n){},e265:function(e,t,n){"use strict";n("0236")},ed4d:function(e,t,n){"use strict";n("de87")},f041:function(e,t,n){},f573:function(e,t,n){"use strict";n("2469")},f937:function(e,t,n){e.exports=n.p+"img/homePageBG.58cea5ac.jpg"}});
//# sourceMappingURL=app.dc6ae449.js.map